{% extends 'dashboard/learner/base.html' %}
{% load static %}




{% block body %}
    <style>
        .avatar {
            position: relative;
            display: inline-block;
            border-radius: 50%;
            border: 2px solid lightskyblue;
        }

        .avatar img {
            display: block;
            border-radius: 50%;
            object-fit: cover;
            object-position: center;
        }

        .avatar.avatar--small img {
            width: 2.8rem;
            height: 2.8rem;
        }

        .avatar.avatar--small:after {
            width: 0.7rem;
            height: 0.7rem;
            bottom: 0px;
            right: -6px;
        }

        .avatar.avatar--medium img {
            width: 3.6rem;
            height: 3.6rem;
            border-radius: 50%;
        }

        .avatar.avatar--medium:after {
            width: 0.7rem;
            height: 0.7rem;
            bottom: 0px;
            right: -6px;
        }

        .avatar.avatar--large img {
            display: block;
            width: 8rem;
            height: 8rem;
            border-radius: 50%;
        }

        .avatar.avatar--large:after {
            width: 1rem;
            height: 1rem;
            bottom: 2px;
            right: 3.5px;
        }

        .avatar.avatar--xlarge img {
            display: block;
            width: 12rem;
            height: 12rem;
            border-radius: 50%;
        }

        .avatar.avatar--xlarge:after {
            width: 1rem;
            height: 1rem;
            bottom: 2px;
            right: 3.5px;
        }
    </style>
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-3" style="color: red">
                <p style="color: blue"></p>
            </div>


            <div class="col-sm-6" style="padding-top: 20px">
                <div class="card mb-3">
                    {% if users %}
                        {% for user in users %}
                            <nav>
                                {#                    <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">#}
                                {#                                <a class="nav-item nav-link active text-primary" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">Your Profile</a>#}
                                {#                    </div>#}
                                {% for message in messages %}
                                    <div class="alert alert-{{ message.tags }} alert-dismissible" role="alert">
                                        {{ message }}
                                    </div>
                                {% endfor %}
                                <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
                                    <h4 class="pt-4 nav-item nav-link active text-dark">Your Profile</h4>
                                </div>
                            </nav>
                            <div class="card-body">

                                {% if user.avatar %}
                                    <center>
                                        <div class="avatar avatar--xlarge"><img class="" style=""
                                                                                src="{{ user.avatar.url }}"
                                                                                alt="{{ user.user.username }}">
                                        </div>
                                    </center><br>
                                {% else %}
                                    <span class="text-muted">text-danger Picture for {{ user.user.username }}</span>
                                {% endif %}

                                <ul class="nav nav-tabs mb-3">
                                    <li class="nav-item">
                                        <a class="nav-link"
                                           href="{% url 'luser_profile' %}">Personal info</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link active"
                                           href="{% url 'luser_stats' %}">Stats</a>
                                    </li>
                                </ul>
                                <table class="table mb-0">
                                    <thead>
                                    <div class="h5 ml-2">Lesson Progress</div>
                                    <tr>
                                        <th>Topic</th>
                                        <th>Progress</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for course in courses %}
                                        <tr>
                                            <td class="col-md-6">{{ course.name }}</td>
                                            <td>{% if course.name == "Introduction to Computer Programming" %}
                                                <div class="progress" style="height: 23px;">
                                                    <div class="progress-bar" role="progressbar"
                                                         aria-valuenow="{{ progress }}"
                                                         aria-valuemin="0" aria-valuemax="100"
                                                         style="width: {{ progress }}%">{{ progress }}%
                                                    </div>
                                                </div>
                                            {% endif %}
                                                {% if course.name == "Python and its Syntax" %}
                                                    <div class="progress" style="height: 23px;">
                                                        <div class="progress-bar" role="progressbar"
                                                             aria-valuenow="{{ progress15 }}"
                                                             aria-valuemin="0" aria-valuemax="100"
                                                             style="width: {{ progress15 }}%">{{ progress15 }}%
                                                        </div>
                                                    </div>
                                                {% endif %}
                                                {% if course.name == "Variables and Data Types" %}
                                                    <div class="progress" style="height: 23px;">
                                                        <div class="progress-bar" role="progressbar"
                                                             aria-valuenow="{{ progress16 }}"
                                                             aria-valuemin="0" aria-valuemax="100"
                                                             style="width: {{ progress16 }}%">{{ progress16 }}%
                                                        </div>
                                                    </div>
                                                {% endif %}
                                                {% if course.name == "Numbers and Operators" %}
                                                    <div class="progress" style="height: 23px;">
                                                        <div class="progress-bar" role="progressbar"
                                                             aria-valuenow="{{ progress17 }}"
                                                             aria-valuemin="0" aria-valuemax="100"
                                                             style="width: {{ progress17 }}%">{{ progress17 }}%
                                                        </div>
                                                    </div>
                                                {% endif %}
                                                {% if course.name == "User Input" %}
                                                    <div class="progress" style="height: 23px;">
                                                        <div class="progress-bar" role="progressbar"
                                                             aria-valuenow="{{ progress18 }}"
                                                             aria-valuemin="0" aria-valuemax="100"
                                                             style="width: {{ progress18 }}%">{{ progress18 }}%
                                                        </div>
                                                    </div>
                                                {% endif %}
                                                {% if course.name == "If and Else Statements" %}
                                                    <div class="progress" style="height: 23px;">
                                                        <div class="progress-bar" role="progressbar"
                                                             aria-valuenow="{{ progress20 }}"
                                                             aria-valuemin="0" aria-valuemax="100"
                                                             style="width: {{ progress20 }}%">{{ progress20 }}%
                                                        </div>
                                                    </div>
                                                {% endif %}
                                                {% if course.name == "Loops" %}
                                                    <div class="progress" style="height: 23px;">
                                                        <div class="progress-bar" role="progressbar"
                                                             aria-valuenow="{{ progress }}"
                                                             aria-valuemin="0" aria-valuemax="100"
                                                             style="width: {{ progress21 }}%">{{ progress21 }}%
                                                        </div>
                                                    </div>
                                                {% endif %}
                                                {% if course.name == "Array" %}
                                                    <div class="progress" style="height: 23px;">
                                                        <div class="progress-bar" role="progressbar"
                                                             aria-valuenow="{{ progress22 }}"
                                                             aria-valuemin="0" aria-valuemax="100"
                                                             style="width: {{ progress22 }}%">{{ progress22 }}%
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                                <br>
                                <hr>
                                <br>
                                <table class="table mb-0">
                                    <thead>
                                    <div class="h5 ml-2">Taken Quizzes</div>
                                    <tr>
                                        <th>Quiz</th>
                                        <th>Topic</th>
                                        <th>Score</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for taken_quiz in taken_quizzes %}
                                        <tr>
                                            <td class="align-middle">{{ taken_quiz.quiz.name }}</td>
                                            <td class="align-middle">{{ taken_quiz.quiz.course.get_html_badge }}</td>
                                            <td class="align-middle">{{ taken_quiz.score }}</td>
                                        </tr>
                                    {% empty %}
                                        <tr>
                                            <td class="bg-light text-center font-italic" colspan="3">You haven't
                                                completed any
                                                quiz yet.
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>


                            </div>
                        {% endfor %}
                        <div class="px-5 pb-3 text-center">
                            <p class="text-muted">
                                Topic Interests:{% for course in user.learner.interests.all %}
                                {{ course.get_html_badge }}{% endfor %}
                            </p>
                            <hr>
                            <a href="{% url 'interests' %}">
                                <button type="button" class="btn btn-outline-info">Update topic interests</button>
                            </a>
                            <span class="ml-4 mr-4"><a href="{% url 'lupdate_profile' %}"><button type="button"
                                                                                                  class="btn btn-outline-primary">Update Profile</button></a></span>
                        </div>
                        </div>

                        </div>
                        </div>
                        </div>

                        </div>

                    {% else %}
                        <center><span><p class="text-danger">No profile created yet</p></span></center>
                        <center><a href="{% url 'lcreate_profile' %}">Click here to create</a></center>

                    {% endif %}




    <div class="col-sm-3" style="color: red">
    </div>

    <script type="text/javascript" src="{% static 'js/jquery-2.1.3.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/jquery.dataTables.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/main.js' %}"></script>
{% endblock %}












